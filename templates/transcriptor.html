{% extends 'layout.html' %}

{% block titulo %} Añadir fichero {% endblock %}

{% block cuerpo %}
<div class="pt1 pb1 bg--lightest-gray">
<div class="container pt3 pb3">
<section class="pb4">
    <h2 class="text--gray pb1 border--bottom">Sube un vídeo</h2>
    <img src="" id="gif">
    <blockquote class="blockquote" id="mensaje"></blockquote>
    <div id="div-a-ocultar">
        <form class="form" method="post" enctype="multipart/form-data" action = '{{url_for("transcriptor")}}'>
            <input type="file" name="file">
            <br>
            <div class="select mb1">
                <label for="size">Selecciona la complejidad del modelo:</label>
                <select name='size'>
                    <option selected>tiny</option>
                    <option>base</option>
                </select>
            </div>
            <button class="btn btn--default" type="submit" onclick="mostrarGif()">Empezar transcripción</button>
        </form>
    </div>
</section>
<div class="border--bottom pb2 mb2">
    <h3>Sobre los modelos</h3>
    <ul><b>Modelo "tiny"</b>
        <li>Tamaño: Menos de 1 MB</li>
        <li>Descripción: Modelo pequeño y rápido para reconocimiento de voz básico</li>
      </ul>
      <ul><b>Modelo "base"</b>
        <li>Tamaño: Alrededor de 50 MB</li>
        <li>Descripción: Modelo más grande y preciso para reconocimiento de voz avanzado</li>
      </ul>
</div>
</div>
</div>

<script>
function mostrarGif() {
    document.getElementById("gif").src = "../static/imagenes/loading.gif";
    document.getElementById("mensaje").innerHTML = "El vídeo se está transcribiendo. El proceso puede tardar entre 20 y 30 segundos por minuto de vídeo, así que gracias por tu paciencia, {{nombre.capitalize()}}.";
    document.getElementById("div-a-ocultar").style.display = "none";
  }
</script>

{% endblock %}